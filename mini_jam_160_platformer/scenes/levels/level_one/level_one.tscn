[gd_scene load_steps=11 format=4 uid="uid://5ofc1neaxvil"]

[ext_resource type="PackedScene" uid="uid://dtx6ao6lixuw1" path="res://scenes/levels/level_template.tscn" id="1_u8dme"]
[ext_resource type="Script" path="res://scripts/room.gd" id="2_v2db8"]
[ext_resource type="PackedScene" uid="uid://x4xvyjhuuchw" path="res://scenes/player.tscn" id="2_ypko2"]
[ext_resource type="TileSet" uid="uid://c1oit26yj6eev" path="res://tile_set.tres" id="3_q0fuq"]
[ext_resource type="Script" path="res://scripts/room_exit.gd" id="4_fda3e"]
[ext_resource type="PackedScene" uid="uid://btxpg15hosexv" path="res://scenes/key.tscn" id="6_tcviu"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ypob3"]
size = Vector2(16, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qyu3t"]
size = Vector2(48, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wary0"]
size = Vector2(16, 48)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_46x0i"]
size = Vector2(48, 16)

[node name="LevelOne" node_paths=PackedStringArray("initial_room", "player") instance=ExtResource("1_u8dme")]
initial_room = NodePath("Rooms/Room1")
player = NodePath("Player")

[node name="TileMapLayer" type="TileMapLayer" parent="." index="0"]
tile_map_data = PackedByteArray("AAABAAoAAAAQAAkAAAACAAoAAAAQAAkAAAADAAoAAAAQAAkAAAAEAAoAAAAQAAkAAAAFAAoAAAAQAAkAAAAGAAoAAAAQAAkAAAAHAAoAAAAQAAkAAAAIAAoAAAAQAAkAAAAJAAoAAAAQAAkAAAAKAAoAAAAQAAkAAAALAAoAAAAQAAkAAAAMAAoAAAAQAAkAAAANAAoAAAAQAAkAAAARAAoAAAAQAAkAAAASAAoAAAAQAAkAAAABAAAAAAAQAAsAAAACAAAAAAAQAAsAAAADAAAAAAAQAAsAAAAEAAAAAAAQAAsAAAAFAAAAAAAQAAsAAAAGAAAAAAAQAAsAAAAHAAAAAAAQAAsAAAAIAAAAAAAQAAsAAAAJAAAAAAAQAAsAAAAKAAAAAAAQAAsAAAALAAAAAAAQAAsAAAAMAAAAAAAQAAsAAAANAAAAAAAQAAsAAAAOAAAAAAAQAAsAAAAPAAAAAAAQAAsAAAAQAAAAAAAQAAsAAAARAAAAAAAQAAsAAAASAAAAAAAQAAsAAAAAAAEAAAARAAoAAAAAAAIAAAARAAoAAAAAAAMAAAARAAoAAAAAAAcAAAARAAoAAAAAAAgAAAARAAoAAAAAAAkAAAARAAoAAAATAAEAAAAPAAoAAAATAAIAAAAPAAoAAAATAAMAAAAPAAoAAAATAAQAAAAPAAoAAAATAAUAAAAPAAoAAAATAAYAAAAPAAoAAAATAAcAAAAPAAoAAAATAAgAAAAPAAoAAAATAAkAAAAPAAoAAAATAAAAAAAKAAAAAAATAAoAAAAKAAAAAAAAAAoAAAAKAAAAAAAAAAAAAAAKAAAAAADs/wAAAAAKAAAAAADs/wEAAAARAAoAAADs/wIAAAARAAoAAADs/wMAAAARAAoAAADs/wcAAAARAAoAAADs/wgAAAARAAoAAADs/wkAAAARAAoAAADs/woAAAAKAAAAAADt/wAAAAAQAAsAAADt/woAAAAQAAkAAADu/wAAAAAQAAsAAADu/woAAAAQAAkAAADv/wAAAAAQAAsAAADv/woAAAAQAAkAAADw/wAAAAAQAAsAAADw/woAAAAQAAkAAADx/wAAAAAQAAsAAADx/woAAAAQAAkAAADy/wAAAAAQAAsAAADy/woAAAAQAAkAAADz/wAAAAAQAAsAAADz/woAAAAQAAkAAAD0/wAAAAAQAAsAAAD0/woAAAAQAAkAAAD1/wAAAAAQAAsAAAD1/woAAAAQAAkAAAD2/wAAAAAQAAsAAAD2/woAAAAQAAkAAAD3/wAAAAAQAAsAAAD3/woAAAAQAAkAAAD4/wAAAAAQAAsAAAD4/woAAAAQAAkAAAD5/wAAAAAQAAsAAAD5/woAAAAQAAkAAAD6/wAAAAAQAAsAAAD7/wAAAAAQAAsAAAD8/wAAAAAQAAsAAAD9/wAAAAAQAAsAAAD9/woAAAAQAAkAAAD+/wAAAAAQAAsAAAD+/woAAAAQAAkAAAD//wAAAAAKAAAAAAD//wEAAAAPAAoAAAD//wIAAAAPAAoAAAD//wMAAAAPAAoAAAD//wcAAAAPAAoAAAD//wgAAAAPAAoAAAD//wkAAAAPAAoAAAD//woAAAAKAAAAAADs/wsAAAAKAAAAAADs/wwAAAARAAoAAADs/w0AAAARAAoAAADs/w4AAAARAAoAAADs/xIAAAARAAoAAADs/xMAAAARAAoAAADs/xQAAAARAAoAAADs/xUAAAAKAAAAAADt/wsAAAAQAAsAAADt/xUAAAAQAAkAAADu/wsAAAAQAAsAAADu/xUAAAAQAAkAAADv/wsAAAAQAAsAAADv/xUAAAAQAAkAAADw/wsAAAAQAAsAAADw/xUAAAAQAAkAAADx/wsAAAAQAAsAAADx/xUAAAAQAAkAAADy/wsAAAAQAAsAAADy/xUAAAAQAAkAAADz/wsAAAAQAAsAAADz/xUAAAAQAAkAAAD0/wsAAAAQAAsAAAD0/xUAAAAQAAkAAAD1/wsAAAAQAAsAAAD1/xUAAAAQAAkAAAD2/wsAAAAQAAsAAAD2/xUAAAAQAAkAAAD3/wsAAAAQAAsAAAD3/xUAAAAQAAkAAAD4/wsAAAAQAAsAAAD4/xUAAAAQAAkAAAD5/wsAAAAQAAsAAAD5/xUAAAAQAAkAAAD9/wsAAAAQAAsAAAD9/xUAAAAQAAkAAAD+/wsAAAAQAAsAAAD+/xUAAAAQAAkAAAD//wsAAAAKAAAAAAD//wwAAAAPAAoAAAD//w0AAAAPAAoAAAD//w4AAAAPAAoAAAD//xIAAAAPAAoAAAD//xMAAAAPAAoAAAD//xQAAAAPAAoAAAD//xUAAAAKAAAAAAAAAAsAAAAKAAAAAAAAAAwAAAARAAoAAAAAAA0AAAARAAoAAAAAAA4AAAARAAoAAAAAABIAAAARAAoAAAAAABMAAAARAAoAAAAAABQAAAARAAoAAAAAABUAAAAKAAAAAAABAAsAAAAQAAsAAAABABUAAAAQAAkAAAACAAsAAAAQAAsAAAACABUAAAAQAAkAAAADAAsAAAAQAAsAAAADABMAAAAQAAkAAAADABUAAAAQAAkAAAAEAAsAAAAQAAsAAAAEABMAAAAQAAkAAAAEABUAAAAQAAkAAAAFAAsAAAAQAAsAAAAFABMAAAAQAAkAAAAFABUAAAAQAAkAAAAGAAsAAAAQAAsAAAAGABMAAAAQAAkAAAAGABUAAAAQAAkAAAAHAAsAAAAQAAsAAAAHABUAAAAQAAkAAAAIAAsAAAAQAAsAAAAIABUAAAAQAAkAAAAJAAsAAAAQAAsAAAAJABIAAAAQAAkAAAAJABUAAAAQAAkAAAAKAAsAAAAQAAsAAAAKABUAAAAQAAkAAAALAAsAAAAQAAsAAAALABAAAAAQAAkAAAALABUAAAAQAAkAAAAMAAsAAAAQAAsAAAAMABAAAAAQAAkAAAAMABUAAAAQAAkAAAANAAsAAAAQAAsAAAANABUAAAAQAAkAAAAOABIAAAAQAAkAAAAPAA4AAAAQAAkAAAAPABIAAAAQAAkAAAAQABIAAAAQAAkAAAARAAsAAAAQAAsAAAARABUAAAAQAAkAAAASAAsAAAAQAAsAAAASABUAAAAQAAkAAAATAAsAAAAKAAAAAAATAAwAAAAPAAoAAAATAA0AAAAPAAoAAAATAA4AAAAPAAoAAAATAA8AAAAPAAoAAAATABAAAAAPAAoAAAATABEAAAAPAAoAAAATABIAAAAPAAoAAAATABMAAAAPAAoAAAATABQAAAAPAAoAAAATABUAAAAKAAAAAAAAABYAAAAKAAAAAAAAABcAAAARAAoAAAAAABgAAAARAAoAAAAAABkAAAARAAoAAAAAAB0AAAARAAoAAAAAAB4AAAARAAoAAAAAAB8AAAARAAoAAAAAACAAAAAKAAAAAAABABYAAAAQAAsAAAABACAAAAAQAAkAAAACABYAAAAQAAsAAAACACAAAAAQAAkAAAADABYAAAAQAAsAAAADAB4AAAAQAAkAAAADACAAAAAQAAkAAAAEABYAAAAQAAsAAAAEAB4AAAAQAAkAAAAEACAAAAAQAAkAAAAFABYAAAAQAAsAAAAFAB4AAAAQAAkAAAAFACAAAAAQAAkAAAAGABYAAAAQAAsAAAAGAB4AAAAQAAkAAAAGACAAAAAQAAkAAAAHABYAAAAQAAsAAAAHACAAAAAQAAkAAAAIABYAAAAQAAsAAAAIACAAAAAQAAkAAAAJABYAAAAQAAsAAAAJAB0AAAAQAAkAAAAJACAAAAAQAAkAAAAKABYAAAAQAAsAAAAKACAAAAAQAAkAAAALABYAAAAQAAsAAAALABsAAAAQAAkAAAALACAAAAAQAAkAAAAMABYAAAAQAAsAAAAMABsAAAAQAAkAAAAMACAAAAAQAAkAAAANABYAAAAQAAsAAAANACAAAAAQAAkAAAAOAB0AAAAQAAkAAAAPABkAAAAQAAkAAAAPAB0AAAAQAAkAAAAQAB0AAAAQAAkAAAARABYAAAAQAAsAAAARACAAAAAQAAkAAAASABYAAAAQAAsAAAASACAAAAAQAAkAAAATABYAAAAKAAAAAAATABcAAAAPAAoAAAATABgAAAAPAAoAAAATABkAAAAPAAoAAAATABoAAAAPAAoAAAATABsAAAAPAAoAAAATABwAAAAPAAoAAAATAB0AAAAPAAoAAAATAB4AAAAPAAoAAAATAB8AAAAPAAoAAAATACAAAAAKAAAAAAA=")
tile_set = ExtResource("3_q0fuq")

[node name="Camera2D" type="Camera2D" parent="." index="1"]
anchor_mode = 0
process_callback = 0

[node name="Player" parent="." index="2" node_paths=PackedStringArray("gravity_component", "input_component", "movement_component", "animation_component", "jump_component") instance=ExtResource("2_ypko2")]
gravity_component = NodePath("GravityComponent")
input_component = NodePath("InputComponent")
movement_component = NodePath("MovementComponent")
animation_component = NodePath("AnimationComponent")
jump_component = NodePath("AdvancedJumpComponent")

[node name="StartPosition" type="Marker2D" parent="." index="3"]
position = Vector2(160, 120)

[node name="Exits" type="Node" parent="." index="4"]

[node name="RoomExit" type="Area2D" parent="Exits" index="0" node_paths=PackedStringArray("room_one", "room_two") groups=["exits"]]
position = Vector2(0, 88)
collision_mask = 2
script = ExtResource("4_fda3e")
room_one_exit_direction = 3
room_two_exit_direction = 2
room_one = NodePath("../../Rooms/Room1")
room_two = NodePath("../../Rooms/Room2")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/RoomExit" index="0"]
shape = SubResource("RectangleShape2D_ypob3")

[node name="RoomExit2" type="Area2D" parent="Exits" index="1" node_paths=PackedStringArray("room_one", "room_two") groups=["exits"]]
position = Vector2(248, 176)
collision_mask = 2
script = ExtResource("4_fda3e")
room_one_exit_direction = 1
room_one = NodePath("../../Rooms/Room1")
room_two = NodePath("../../Rooms/Room3")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/RoomExit2" index="0"]
shape = SubResource("RectangleShape2D_qyu3t")

[node name="RoomExit3" type="Area2D" parent="Exits" index="2" node_paths=PackedStringArray("room_one", "room_two") groups=["exits"]]
position = Vector2(0, 264)
collision_mask = 2
script = ExtResource("4_fda3e")
room_one_exit_direction = 3
room_two_exit_direction = 2
room_one = NodePath("../../Rooms/Room3")
room_two = NodePath("../../Rooms/Room4")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/RoomExit3" index="0"]
shape = SubResource("RectangleShape2D_wary0")

[node name="RoomExit4" type="Area2D" parent="Exits" index="3" node_paths=PackedStringArray("room_one", "room_two") groups=["exits"]]
position = Vector2(248, 352)
collision_mask = 2
script = ExtResource("4_fda3e")
room_two_exit_direction = 1
room_one = NodePath("../../Rooms/Room5")
room_two = NodePath("../../Rooms/Room3")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/RoomExit4" index="0"]
shape = SubResource("RectangleShape2D_46x0i")

[node name="Rooms" type="Node" parent="." index="5"]

[node name="Room1" type="Node2D" parent="Rooms" index="0" node_paths=PackedStringArray("initial_player_position") groups=["rooms"]]
script = ExtResource("2_v2db8")
initial_player_position = NodePath("../../StartPosition")

[node name="Room2" type="Node2D" parent="Rooms" index="1" groups=["rooms"]]
position = Vector2(-320, 0)
script = ExtResource("2_v2db8")

[node name="Room3" type="Node2D" parent="Rooms" index="2" groups=["rooms"]]
position = Vector2(0, 176)
script = ExtResource("2_v2db8")

[node name="Key" parent="Rooms/Room3" index="0" instance=ExtResource("6_tcviu")]
position = Vector2(88, 104)

[node name="Room4" type="Node2D" parent="Rooms" index="3" groups=["rooms"]]
position = Vector2(-320, 176)
script = ExtResource("2_v2db8")

[node name="Room5" type="Node2D" parent="Rooms" index="4" groups=["rooms"]]
position = Vector2(0, 352)
script = ExtResource("2_v2db8")

[connection signal="body_entered" from="Exits/RoomExit" to="Exits/RoomExit" method="_on_body_entered"]
[connection signal="body_entered" from="Exits/RoomExit2" to="Exits/RoomExit2" method="_on_body_entered"]
[connection signal="body_entered" from="Exits/RoomExit3" to="Exits/RoomExit3" method="_on_body_entered"]
[connection signal="body_entered" from="Exits/RoomExit4" to="Exits/RoomExit4" method="_on_body_entered"]
[connection signal="player_found_key" from="Rooms/Room3/Key" to="." method="_on_key_player_found_key"]
